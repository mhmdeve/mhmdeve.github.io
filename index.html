<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Internet Speed Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 50px;
        }
        #result {
            font-size: 2em;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <h1>Test Your Internet Speed</h1>
    <button onclick="testSpeed()">Start Speed Test</button>
    <div id="result"></div>

    <script>
        async function testSpeed() {
            const resultElement = document.getElementById('result');
            resultElement.textContent = 'Testing...';

            const image = new Image();
            const imageSizeInBytes = 500000; // Example size of the image file in bytes

            const startTime = new Date().getTime();
            image.src = 'https://upload.wikimedia.org/wikipedia/commons/5/5f/Original_Doge_meme.jpg?random=' + Math.random();

            image.onload = function() {
                const endTime = new Date().getTime();
                const duration = (endTime - startTime) / 1000; // Time in seconds

                const bitsLoaded = imageSizeInBytes * 8;
                const speedMbps = (bitsLoaded / duration) / (1024 * 1024);

                resultElement.textContent = `Your download speed is approximately ${speedMbps.toFixed(2)} Mbps`;
            };

            image.onerror = function() {
                resultElement.textContent = 'Error loading test image. Please try again.';
            };
        }
    </script>
</body>
</html>
